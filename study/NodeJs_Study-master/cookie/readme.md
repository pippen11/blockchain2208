# cookie / session
1. HTTP 통신 내용
브라우저에서 url에 내용을 쓰고 엔터키를 누르면 특정 텍스트를 만들어서 주소에 해당하는 컴퓨터에 내용을 전달.
텍스트에는 규격이 정해져 있다. 
해당 내용들에는 꼭 정해져 있는 내용만 있을까? No
우리가 임의로 만들어서 넣어줄 수 있다.
텍스트를 읽는 주체가 컴퓨터이기 때문에 내용을 읽을 수 있게끔 규격에 맞춰서 보내줘야 한다.
마음대로 내용을 만들어서 보낼 수는 있지만 응답하는 쪽에서 처리를 할 수 있도록 규격에 맞춰서 보내주어야만 한다.
마찬가지로 응답을 보내줄 때도 HTTP 패킷의 헤더부분에 내용을 추가해서 보낼 수 있다.


2. 브라우저가 하는 역할
브라우저도 데이터를 저장하는 역할을 가지고 있다. 브라우저는 저장이라는 것을 한다.
key:value 형태로 스트링 값을 저장할 수 있다. 저장할 수 있는 것들 중 쿠키에 대해 알아보자.

쿠키 -> 브라우저한테 저장하는 것 -> 사용자마다 다른 값을 저장할 수 있다는 뜻
A,B,C 세 사람이 웹서버에게 요청을 보냈을 때, 웹서버 입장에서는 어떤 사람이 보낸 요청인지 알 수 없다.
A라는 사람이 요청을 보냈을 때 해당 브라우저가 특정 정보를 저장하고 있는 것이다.
요청과 응답은 서버 컴퓨터별로는 알 수 있지만 해당 사람이 누구인지는 특정지을 수 없었다. 그래서 쿠키라는 것이 존재하게 되었고
그것이 브라우저의 기능으로 구현된 것이다.

3. 쿠키 활용 사례. 
쇼핑몰 팝업창 일주일 동안 보지 않기, 장바구니, 
브라우저가 쿠키값에 따라 화면을 다르게 랜더해서 보여줄 수 있게끔 처리를 하는 것.

쿠키는 브라우저가 저장하는 것. 
Set-Cookie HTTP 응답 헤더는 서버에서 사용자 브라우저에 쿠키를 전송하기 위해 사용됩니다.
응답 헤더를 줄 때 set-cookie를 이용해 브라우저에 쿠키를 저장할 수 있다.

브라우저는 기본적으로 url을 통해 웹서버에게 요청을 보내고 웹서버는 브라우저에게 응답으로 텍스트를 넘겨준다.
브라우저와 서버는 텍스트만 주고받을 수 있다. 그렇기 때문에 웹서버가 가지고 있는 변수들은 강제적으로 던지지 않는 이상 보낼 수 없다. 
서버에 있는 변수는 서버에서 저장하고 있는 값이기 때문에 브라우저는 해당 내용을 가지고 올 수 없다. (2교시 20분)

웹서버에서 브라우저에게 응답을 줄 때, 응답헤더를 통해 브라우저에 저장할 값을 전달한다.
쿠키의 저장 주체는 브라우저이기 때문에 웹서버는 브라우저가 무엇을 저장하고 있는지 모른다.

token=1은 브라우저의 javascript를 해석하는 부분에서 접근이 가능하다. 
쿠키는 브라우저에 저장된 값이기 때문에 브라우저의 javascript에서 조작이 가능하다.
브라우저에 쿠키를 저장한다는 것은 document 안에 cookie라는 객체를 만들어서 cookie 객체 안에 저장하고 싶은 내용을 저장하는 것 (2교시 40분,,) 
웹서버가 브라우저에 변수를 저장할 수 있는 방법은 쿠키를 통해서만 가능하다.


4. 쿠키의 속성들
Domain : url 
Path : 쿠키 사용 범위 지정
Expires/Max-Age : 쿠키의 유효기간 (로그인 지속시간 같은 것을 정할 때 사용)
HttpOnly : 브라우저의 javascript 해석기는 쿠키에 접근할 수 있는데 HttpOnly를 설정해 놓으면 브라우저의 javascript 해석기가 쿠키를 조작할 수 없게끔 할 수 있다. 민감한 정보를 저장할 때 사용된다. 











