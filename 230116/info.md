오늘은 TCP를 이용한 서버 구축

//블록체인
네트워크를 알아야 p2p를 알수있고 그래야 블록체인 이해하기편함

IP는 Internet Protocol의 약자이다. 네트워크 호스트는 IP에서 정의된 규약(Protocol)을 이용해 네트워크 상에서 정보를 주고 받으며, 이 정보는 패킷(Packet) 단위로 전달 된다.

네트워크 호스트(Network Host)
네트워크 호스트는 컴퓨터 네트워크에 연결된 장치이다. 네트워크 호스트의 역할은 네트워크 상에서 정보를 주고 받는 것으로, 우리는 네트워크 호스트를 네트워크의 노드라고도 부른다. 간단하게 생각하면 개인 컴퓨터가 네트워크 호스트가 될 수 있다.

패킷(Packet)
소포(정보)를 뜻하는 Package과 덩어리를 뜻하는 Bucket을 합친 축약어로, 정보의 덩어리를 의미한다. 통신 시 컴퓨터는 정보를 덩어리 단위로 만들어서 다른 컴퓨터에 전달하는데 이를 Packet이라 부른다.

인터넷 계층의 IP Address만으로는 패킷 전달을 위해 여러 한계점이 있음을 살펴보았다.
패킷을 받을 대상이 연결 상태임을 확인하지 않고 전송하기 때문에 받을 대상(호스트)이 서비스 불능 상태여도 패킷이 전송된다.
순서가 있는 여러 개의 데이터를 보냈을 때 받는 데이터가 같은 순서로 받아질 것이란 보장이 안된다.
패킷을 가지고 있던 호스트가 강제종료되어 패킷이 소실될 경우 패킷이 목적지까지 가지 못하고 소실될 수 있다.

이러한 한계점을 극복하기 위해 만들어진 것이 바로 TCP(Transmission Control Protocol)이다. 영어를 그대로 직역하면 전송 제어 프로토콜인데 TCP는 말 그대로 전송 제어를 위한 작업을 해주는 역할을 한다.

TCP란 << 이거 설정하기 전에 사전 지식이 있다.
서버와 클라이언트간에 데이터를 신뢰성 있게 전달하기 위해 만들어진 프로토콜

받을 대상 노드(호스트)가 서비스 가능(연결 가능) 상태인지 확인 및 연결을 수립하는 역할
전송을 제어해주는 정보를 패킷에 추가해주는 역할

# 프로토콜

- 통신 규약이다.
- 인터넷 상에서 정보를 주고 받기 위한 규칙

# OSI 7 Layer

- 통신을 전행하는 과정을 단계로 나눈 규칙
- 이름처럼 7 단계로 나누어져 있으며 하드웨어부터 프로그램까지 정보를 주고받는 과정이다.
  계층을 나눈 이유는 통신이 일어나는 과정이 단계별로 파악할 수 있기 때문이다.
  흐름을 한눈에 알아보기 쉽고, 사람들이 이해하기 쉽고,
  7단계 중 특정한 곳에 이상이 생기면 다른 단계의 장비 및 소프트웨어를 건들이지 않고도 이상이 생긴 단계만 고칠 수 있기 때문이다.

# TCP/IP 4 Layer \*\* 좀 알아두면 좋음

- OSI 7 Layer와 마찬가지로 통신의 과정을 단계로 나눈 규칙.
- OSI 7 Layer보다 많이 사용된다.
- 우리가 말하는 IP는 TCP/IP의 2단계인 Internet Protocol을 뜻한다.
- 3단계에는 TCP / UDP를 포함한다.
- 4단계에는 HTTP(HTML , 브라우저),FTP(filezilla), SSH(putty)등을 포함한다.
- 각 단계(계층)
  밑에 1~4단계 순서대로 진행

  1.  Network Interface
      - 데이터(패킷)를 주고받는 과정
      - 에러 확인, 패킷 생성 등등의 작업을 한다.
  2.  Internet
      - 목적지에 연결한다
      - IP 주소 << 어디에 요청을 보낼 것인가 하는 목적지
  3.  Transport

  - 통신 연결을 제어한다.
  - TCP / UDP 방식이 있다.

TCP통신을해서 http연결까지?

4.  Application

- 프로그램(브라우저)에 데이터 전달한다.

# TCP

컴퓨터가 다른 컴퓨터와 데이터 통신을 하기 위한 규약(프로토콜)의 일종이다

- 연결 하는 방식 -출발지(요청을 보낸 곳)와 목적지(서버)를 미리 연결하고 정보를 전달한다.
- 연결로 정보를 제대로 받았는지 확인한다. => 신뢰도가 높다.
- 단점은 UDP보다 느리다 => 연결하고 검사하는 과정들 때문에
- 3-way handshaking 과정을 통해 연결한다.
  TCP 3 Way Handshake는 TCP/IP프로토콜을 이용해서 통신을 하는 응용프로그램이 데이터를 전송하기 전에
  먼저 정확한 전송을 보장하기 위해 상대방 컴퓨터와 사전에 세션을 수립하는 과정을 의미한다..

      1. 클라이언트(브라우저)가 서버에 요청을 보낸다.(SYN => synchronize sequence numbers(동기화된 순차 번호))
      2. 서버는 브라우저에게 요청 수락을 보낸다(SYN/ACK)
      3. 브라우저는 요청 수락을 잘 받았다고 서버에 보낸다.(ACK => acknowledgment(승인))
         //1~3까지가 handshaking(데이터주고받기전 확인하려고 )
      4. 데이터를 주고 받는다.

# UDP

- 연결하지 않는 방식
- 정보를 보낼 뿐 자세한 점검은 하지 않는다.
- 단점은 데이터 누락 시(요청을 보냈는데 받지 못했을때)에 대한 처리가 없다.
